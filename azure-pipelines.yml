resources:
 repositories:
   - repository: Demo_repo
     type: github
     endpoint: github.com_vinitamishra15
     name: vinitamishra15/Demo_repo

trigger:
- main

pool: Default

variables:
  serviceNowUrl: https://dev192158.service-now.com/
  serviceNowUsername: '$(serviceNowUser)'
  serviceNowPassword: '$(serviceNowPassword)'

steps:
  - checkout: self
  - checkout: Demo_repo

  - task: CmdLine@2
    inputs:
     script: |
       curl -X POST "https://dev192158.service-now.com/api/sn_cicd/app_repo/import" --user "Test_demo:.Wkg@(z;f;0Stc&RSgnUDI!9KZ@Qn^Jo1ka)7u!xFi55MO%W)g=r+hy+rn6>Nl" -H "Content-Type: application/xml"